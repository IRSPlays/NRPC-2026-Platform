"use strict";(()=>{var e={};e.id=33,e.ids=[33],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2312:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>b,originalPathname:()=>y,patchFetch:()=>w,requestAsyncStorage:()=>f,routeModule:()=>h,serverHooks:()=>k,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>j});var r={};a.r(r),a.d(r,{GET:()=>m,dynamic:()=>l});var s=a(5419),i=a(9108),o=a(9678),n=a(8070),c=a(7147),p=a.n(c),u=a(1017),d=a.n(u);let l="force-dynamic";async function m(){try{let e=[d().join(process.cwd(),"backups"),d().join(process.cwd(),"data","backups"),d().join(process.cwd(),"..","backups"),d().join(process.cwd(),"..","data","backups")],t=[];for(let a of e)if(p().existsSync(a)){let e=p().readdirSync(a).filter(e=>e.startsWith("backup-")&&(e.endsWith(".zip")||e.endsWith(".json"))).map(e=>{let t=d().join(a,e),r=p().statSync(t);return{name:e,size:r.size,date:r.mtime,path:t}});t=[...t,...e]}let a=Array.from(new Map(t.map(e=>[e.name,e])).values()).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());return n.Z.json(a)}catch(e){return console.error("List backups failed:",e),n.Z.json({error:"Failed to list backups"},{status:500})}}let h=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/archives/route",pathname:"/api/archives",filename:"route",bundlePath:"app/api/archives/route"},resolvedPagePath:"C:\\Users\\Haziq\\Documents\\NRPC Platform\\local-backup-tool\\app\\api\\archives\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:v,serverHooks:k,headerHooks:b,staticGenerationBailout:j}=h,y="/api/archives/route";function w(){return(0,o.patchFetch)({serverHooks:k,staticGenerationAsyncStorage:v})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,206],()=>a(2312));module.exports=r})();